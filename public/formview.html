<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Meta Tags for SEO -->
    <meta
      name="description"
      content="SYNTAX is the ultimate platform for mastering programming skills, offering interactive, gamified tutorials for beginners, intermediate learners, and advanced programmers. Join our community and start coding your way to success!"
    />
    <meta
      name="keywords"
      content="Learn programming, Programming tutorials, Python for beginners, JavaScript tutorials, Coding, Tech skills, Interactive coding, Gamified tutorials, Programming languages"
    />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph Tags -->
    <meta
      property="og:title"
      content="SYNTAX: The best way to learn tech skills"
    />
    <meta
      property="og:description"
      content="SYNTAX is the ultimate platform for mastering programming skills, offering interactive, gamified tutorials for beginners, intermediate learners, and advanced programmers. Join our community and start coding your way to success!"
    />
    <meta property="og:image" content="..//src/images/syntax_logo.jpg" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="Syntax url" />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="SYNTAX: The best way to learn tech skills"
    />
    <meta
      name="twitter:description"
      content="SYNTAX is the ultimate platform for mastering programming skills, offering interactive, gamified tutorials for beginners, intermediate learners, and advanced programmers. Join our community and start coding your way to success!"
    />
    <meta name="twitter:image" content="../src/images/syntax_logo.jpg" />
    <meta name="twitter:site" content="twitterhandle" />
    <link rel="icon" type="image/x-icon" href="../src/images/favicon.ico" />
    <!-- stylesheets-->
    <link rel="stylesheet" href="../src/styles/resets.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="../src/styles/fonts.css" />
    <link rel="stylesheet" href="../src/styles/typography.css" />
    <link rel="stylesheet" href="../src/styles/style.css" />
    <script
      src="https://kit.fontawesome.com/d1d03a1cee.js"
      crossorigin="anonymous"
    ></script>

    <title>Syntax</title>
  </head>
  <body>
    <!-- NAVBAR & MENU -->
    <nav id="nav">
      <span>SYNTAX</span>
      <div class="d-only d-menu">
        <a href="#waitlist">Join Waitlist</a>
        <a href="#contact">Contact US</a>
      </div>
      <div class="menu-icon" onclick="openNav()">
        <i class="fa-solid fa-bars"></i>
      </div>
      <div class="control-me" id="control-me">
        <div class="menu-content">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"
            >Ã—</a
          >
          <p class="text-left">SYNTAX</p>
          <span>Join waitlist</span>
          <span>contact us</span>
        </div>
      </div>
    </nav>
    <!-- FORM -->
    <form class="toview">
      <select name="formToview" class="rounded">
        <option value="">Choose response to view</option>
        <option value="waitlist">Waitlist</option>
        <option value="team">Team</option>
      </select>
    </form>

    <section class="output">
      <!-- show this for the waitlist response -->
      <div id="waitlist-response">
        <h3>Waitlist Form Responses</h3>
        <table>
          <tr class="t-head">
            <td>S/N</td>
            <td>EMAIL ADDRESS</td>
          </tr>
          <!-- show this for each waitlist response -->
          <tr class="t-head">
            <td>
              <!-- the serial number goes here -->
            </td>
            <td>
              <!-- the email address goes here -->
            </td>
          </tr>
        </table>
      </div>
      <!-- show this for the team response -->
      <div id="team-response">
        <h3>Team Form Responses</h3>
        <table>
          <tr class="t-head">
            <td>S/N</td>
            <td>FULLNAME</td>
            <td>EMAIL ADDRESS</td>
            <td>ROLE</td>
            <td>PHONE NUMBER</td>
          </tr>
          <!-- show this for each team response -->
          <tr class="">
            <td>
              <!-- the serial number goes here -->
            </td>
            <td>
              <!-- the fullname goes here -->
            </td>
            <td>
              <!-- the email address goes here -->
            </td>
            <td>
              <!-- the role goes here -->
            </td>
            <td>
              <!-- the phone number goes here -->
            </td>
          </tr>
        </table>
      </div>
    </section>
    <!-- FOOTER -->
    <footer id="contact">
      <div class="row">
        <!-- Social Media Section -->
        <div class="col-lg social-media">
          <h3>Connect with Us</h3>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fab fa-tiktok"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>

        <!-- Contact Section -->
        <div class="col-lg contact">
          <h3>Contact Us</h3>
          <p>
            24 Syntax Street, Suite 100<br />Springfield, Ikoyi, Lagos Nigeria
          </p>
          <p>Email: contact@syntax.com</p>
          <p>Phone: +234 901-234-5678</p>
        </div>

        <!-- Newsletter Section -->
        <div class="col-lg newsletter">
          <h3>Subscribe To Newsletter</h3>
          <form class="newsletter-form">
            <input type="email" placeholder="Enter your email" required />
            <button type="submit">Subscribe</button>
          </form>
        </div>
      </div>
      <div class="footer-bottom">
        <hr class="d-only" />
        <p>&copy; SYNTAX 2025</p>
      </div>
    </footer>

    <script src="../src/scripts/script.js"></script>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        get,
      } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: import.meta.env.VITE_API_KEY,
        authDomain: import.meta.env.VITE_AUTH_DOMAIN,
        projectId: import.meta.env.VITE_PROJECT_ID,
        storageBucket: import.meta.env.VITE_storageBucket,
        messagingSenderId: import.meta.env.VITE_MESSAGINGSENDER_ID,
        appId: import.meta.env.VITE_APPID,
        measurementId: import.meta.env.VITE_MEASUREMENT_ID,
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      // Function to fetch and render waitlist data
      async function getWaitLists() {
        const waitlistRef = ref(db, "waitlist");
        try {
          const snapshot = await get(waitlistRef);
          if (snapshot.exists()) {
            const waitlistData = snapshot.val();
            const tableBody = document.querySelector(
              "#waitlist-response table"
            );

            // Clear existing rows
            tableBody.innerHTML = `
              <tr class="t-head">
                <td>S/N</td>
                <td>EMAIL ADDRESS</td>
              </tr>
            `;

            let serialNumber = 1;
            Object.values(waitlistData).forEach((entry) => {
              const row = document.createElement("tr");
              row.innerHTML = `
                <td>${serialNumber++}</td>
                <td>${entry.email}</td>
              `;
              tableBody.appendChild(row);
            });
          } else {
            console.log("No waitlist data found.");
          }
        } catch (error) {
          console.error("Error fetching waitlist data:", error);
        }
      }

      // Function to fetch and render team data
      async function getTeamMembers() {
        const teamRef = ref(db, "team");
        try {
          const snapshot = await get(teamRef);
          if (snapshot.exists()) {
            const teamData = snapshot.val();
            const tableBody = document.querySelector("#team-response table");

            // Clear existing rows
            tableBody.innerHTML = `
              <tr class="t-head">
                <td>S/N</td>
                <td>FULLNAME</td>
                <td>EMAIL ADDRESS</td>
                <td>ROLE</td>
                <td>PHONE NUMBER</td>
              </tr>
            `;

            let serialNumber = 1;
            Object.values(teamData).forEach((member) => {
              const row = document.createElement("tr");
              row.innerHTML = `
                <td>${serialNumber++}</td>
                <td>${member.name}</td>
                <td>${member.email}</td>
                <td>${member.role}</td>
                <td>${member.phone}</td>
              `;
              tableBody.appendChild(row);
            });
          } else {
            console.log("No team data found.");
          }
        } catch (error) {
          console.error("Error fetching team data:", error);
        }
      }

      // Call the functions to fetch and render data
      document.addEventListener("DOMContentLoaded", () => {
        getWaitLists();
        getTeamMembers();
      });
    </script>
  </body>
</html>
